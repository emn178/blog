<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="content-language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Solidity Gas Optimizations - Data Compression | emn178's Blog</title><meta name="keywords" content="Blockchain,Solidity,Smart Contract,Gas,Optimization"><meta name="author" content="emn178"><meta name="copyright" content="emn178"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="This article explains the gas optimization techniques of Solidity smart contracts. Explain how to use data merging and numbering to compress data to r"><meta property="og:type" content="article"><meta property="og:title" content="Solidity Gas Optimizations - Data Compression"><meta property="og:url" content="https://blog.emn178.cc/en/post/solidity-gas-optimization-data-compression/"><meta property="og:site_name" content="emn178&#39;s Blog"><meta property="og:description" content="This article explains the gas optimization techniques of Solidity smart contracts. Explain how to use data merging and numbering to compress data to r"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://blog.emn178.cc/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg"><meta property="article:published_time" content="2018-05-07T10:26:05.000Z"><meta property="article:modified_time" content="2023-04-17T14:40:52.922Z"><meta property="article:author" content="emn178"><meta property="article:tag" content="Solidity"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://blog.emn178.cc/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg"><link rel="shortcut icon" href="/favicon.png"><link rel="canonical" href="https://blog.emn178.cc/en/post/solidity-gas-optimization-data-compression/"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="stylesheet" href="/css/index.css?v=11"><link rel="preload" href="/libs/fontawesome-free-6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel=&quot;stylesheet&quot;"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MPNMQM2EN1"></script><script>if("localhost:4000"!==location.host){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MPNMQM2EN1")}</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"Copy successfully",error:"Copy error",noSupport:"The browser does not support"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"Just",min:"minutes ago",hour:"hours ago",day:"days ago",month:"months ago"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!1}},delayScripts=[],delayStyles=[]</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Solidity Gas Optimizations - Data Compression",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!1,postUpdate:"2023-04-17 22:40:52"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.getCSS=(e,t=!1)=>new Promise((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onerror=n,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,o())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="alternate" href="/en/atom.xml" title="小殘的程式光廊" type="application/atom+xml">
<link rel="alternate" href="/en/rss2.xml" title="小殘的程式光廊" type="application/rss+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/loading.svg" data-src="/images/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"><noscript><img src="/images/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></noscript></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/en/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-rss"></i><span> Subscriptions</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/atom.xml"><i class="fa-fw fas fa-rss"></i><span> ATOM</span></a></li><li><a class="site-page child" href="/en/rss2.xml"><i class="fa-fw fas fa-rss"></i><span> RSS</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/zh-TW/"><i class="fa-fw fas fa-globe"></i><span> 中文</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity.png)"><nav id="nav"><span id="blog-info"><a href="/en/" title="emn178's Blog"><span class="site-name">emn178's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/en/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-rss"></i><span> Subscriptions</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/atom.xml"><i class="fa-fw fas fa-rss"></i><span> ATOM</span></a></li><li><a class="site-page child" href="/en/rss2.xml"><i class="fa-fw fas fa-rss"></i><span> RSS</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/zh-TW/"><i class="fa-fw fas fa-globe"></i><span> 中文</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Solidity Gas Optimizations - Data Compression</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-05-07T10:26:05.000Z" title="Created 2018-05-07 18:26:05">2018-05-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-04-17T14:40:52.922Z" title="Updated 2023-04-17 22:40:52">2023-04-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/en/categories/Blockchain/">Blockchain</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>In the process of developing smart contract, because we want to be able to achieve matching function, we have implemented a function that can input multiple orders. As more and more features are added to our function and more and more arguments are required to ensure contractual fairness, such as miners’ fees, taker’s fee, maker’s fee and payment method of fee. We encounter to the variable too much and can not compile, and a lot of data consumed gas has also become a problem.</p><p>In our matching function, we will have this information for each order:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">uint256 amountSell,</span><br><span class="line">uint256 amountBuy,</span><br><span class="line">address tokenSell,</span><br><span class="line">address tokenBuy,</span><br><span class="line">address user,</span><br><span class="line">uint256 nonce,</span><br><span class="line">uint256 gasFee,</span><br><span class="line">uint256 takerFee,</span><br><span class="line">uint256 makerFee,</span><br><span class="line">uint256 joyPrice,</span><br><span class="line">bool isBuy,</span><br><span class="line">uint8 v,</span><br><span class="line">byte32 r,</span><br><span class="line">byte32 s</span><br></pre></td></tr></table></figure><p>So we tried to find ways to reduce the number of variables. One day I looked at a transaction in Etherscan which shows the following information:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Function: trade(address tokenGet, uint256 amountGet, address tokenGive, uint256 amountGive, uint256 expires, uint256 nonce, address user, uint8 v, bytes32 r, bytes32 s, uint256 amount) ***</span><br><span class="line">MethodID: 0x0a19b14a</span><br><span class="line">[0]:0000000000000000000000000000000000000000000000000000000000000000</span><br><span class="line">[1]:000000000000000000000000000000000000000000000000006a94d74f430000</span><br><span class="line">[2]:000000000000000000000000a92f038e486768447291ec7277fff094421cbe1c</span><br><span class="line">[3]:0000000000000000000000000000000000000000000000000000000005f5e100</span><br><span class="line">[4]:000000000000000000000000000000000000000000000000000000000024cd39</span><br><span class="line">[5]:00000000000000000000000000000000000000000000000000000000e053cefa</span><br><span class="line">[6]:000000000000000000000000a11654ff00ed063c77ae35be6c1a95b91ad9586e</span><br><span class="line">[7]:000000000000000000000000000000000000000000000000000000000000001c</span><br><span class="line">[8]:caa3a70dd8ab2ea89736d7c12c6a8508f59b68590016ed99b40af0bcc2de8dee</span><br><span class="line">[9]:26e2347abfba108444811ae5e6ead79c7bd0434cf680aa3102596f1ab855c571</span><br><span class="line">[10]:000000000000000000000000000000000000000000000000000221b262dd8000</span><br></pre></td></tr></table></figure><p>I found that all arguments are 256 bits, regardless of the type is <code>byte32</code>, <code>address</code> or <code>uint8</code>. So most of the arguments on the left have a large number of “0” is unused bits. It is easy to think of using these “spaces”.</p><h2 id="Data-Merging"><a href="#Data-Merging" class="headerlink" title="Data Merging"></a>Data Merging</h2><p>First, <code>uin256</code> and <code>byte32</code> will fill the entire variable space, so the amount and signature r, s can not be used. I chose the <code>address</code> variable to use. In addition, We made adjustments that do not require too many bits of type:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nonce -&gt; 40 bits</span><br><span class="line">takerFee -&gt; 16 bits</span><br><span class="line">makerFee -&gt; 16 bits</span><br><span class="line">uint256 joyPrice -&gt; 28 bits</span><br><span class="line">isBuy -&gt; 4 bits (In fact, 1 bit is enough. Just for the easy presentation of documents)</span><br></pre></td></tr></table></figure><p>A <code>address</code> variable, for example:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">000000000000000000000000a92f038e486768447291ec7277fff094421cbe1c</span><br></pre></td></tr></table></figure><p>It can be stuffed into the above information into:<br><img src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-data-compression/20230405083851.png" alt="Solidity Data Compression" title="Solidity Data Compression"><noscript><img src="/images/zh-TW/post/2018/solidity-gas-optimization-data-compression/20230405083851.png" alt="Solidity Data Compression" title="Solidity Data Compression"></noscript></p><p>The above information corresponds to the following:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nonce: 0181bfeb</span><br><span class="line">takerFee: 0014</span><br><span class="line">makerFee: 000a</span><br><span class="line">joyPrice: 0000000</span><br><span class="line">isBuy: 1</span><br></pre></td></tr></table></figure><p>The original arguments can be reduced to:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">uint256 amountSell,</span><br><span class="line">uint256 amountBuy,</span><br><span class="line">uint256 tokenSellWithData,</span><br><span class="line">address tokenBuy,</span><br><span class="line">address user,</span><br><span class="line">uint256 gasFee,</span><br><span class="line">uint8 v,</span><br><span class="line">byte32 r,</span><br><span class="line">byte32 s</span><br></pre></td></tr></table></figure><p>Of course, v can also be stuffed into another <code>address</code> variables. I will not repeat them.</p><h2 id="Numbering"><a href="#Numbering" class="headerlink" title="Numbering"></a>Numbering</h2><p>This has saved a lot of arguments, but I have a new idea: token <code>address</code> should be limited, it is better to use the automatically increment to number just like database? So we further number token and user. The final data becomes:<br><img src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-data-compression/20230405083900.png" alt="Solidity Data Compression" title="Solidity Data Compression"><noscript><img src="/images/zh-TW/post/2018/solidity-gas-optimization-data-compression/20230405083900.png" alt="Solidity Data Compression" title="Solidity Data Compression"></noscript></p><p>The three rightmost ones represent tokenSell, tokenBuy, and user. The orange one indicates the signature v. In the end, our order information is compress to:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">uint256 amountSell,</span><br><span class="line">uint256 amountBuy,</span><br><span class="line">uint256 data,</span><br><span class="line">uint256 gasFee,</span><br><span class="line">byte32 r,</span><br><span class="line">byte32 s</span><br></pre></td></tr></table></figure><p>Save from the original 14 variables to 6 variables.</p><h2 id="Further-reading"><a href="#Further-reading" class="headerlink" title="Further reading"></a>Further reading</h2><p>Previous Post: <a href="../solidity-gas-optimization-function-name/">Solidity Gas Optimizations - Function Name</a><br>Next Post: <a href="../solidity-gas-optimization-variable-ordering/">Solidity Gas Optimizations - Variable Ordering</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://blog.emn178.cc">小殘</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://blog.emn178.cc/en/post/solidity-gas-optimization-data-compression/">https://blog.emn178.cc/en/post/solidity-gas-optimization-data-compression/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/en/tags/Solidity/">Solidity</a></div><div class="post_share"><div class="social-share" data-image="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" data-initialized="true"><a class="social-share-icon icon-facebook" aria-label="share to facebook"></a><a class="social-share-icon icon-twitter" aria-label="share to twitter"></a><a class="social-share-icon icon-wechat" aria-label="share to wechat"></a><a class="social-share-icon icon-weibo" aria-label="share to weibo"></a><a class="social-share-icon icon-qq" aria-label="share to qq"></a></div><script>delayScripts.push({delay:1e3,src:"/libs/share-js/js/social-share.min.js"}),delayStyles.push({delay:1e3,href:"/libs/share-js/css/share.min.css"})</script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/en/post/solidity-gas-optimization-function-name/" title="Solidity Gas Optimizations - Function Name"><img class="cover" src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><noscript><img class="cover" src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"></noscript><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Solidity Gas Optimizations - Function Name</div></div></a></div><div class="next-post pull-right"><a href="/en/post/solidity-gas-optimization-variable-ordering/" title="Solidity Gas Optimizations - Variable Ordering"><img class="cover" src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><noscript><img class="cover" src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"></noscript><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Solidity Gas Optimizations - Variable Ordering</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/en/post/solidity-gas-optimization/" title="Solidity Gas Optimizations"><img class="cover" src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" alt="cover"><noscript><img class="cover" src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" alt="cover"></noscript><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-03-07</div><div class="title">Solidity Gas Optimizations</div></div></a></div><div><a href="/en/post/solidity-gas-optimization-function-name/" title="Solidity Gas Optimizations - Function Name"><img class="cover" src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" alt="cover"><noscript><img class="cover" src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" alt="cover"></noscript><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-05-04</div><div class="title">Solidity Gas Optimizations - Function Name</div></div></a></div><div><a href="/en/post/solidity-gas-optimization-variable-ordering/" title="Solidity Gas Optimizations - Variable Ordering"><img class="cover" src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" alt="cover"><noscript><img class="cover" src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" alt="cover"></noscript><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-09-11</div><div class="title">Solidity Gas Optimizations - Variable Ordering</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/loading.svg" data-src="/images/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><noscript><img src="/images/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></noscript></div><div class="author-info__name">emn178</div><div class="author-info__description">A blog sharing experiences about programming and technology.</div></div><div class="card-info-data site-data is-center"><a href="/en/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a><a href="/en/tags/"><div class="headline">Tags</div><div class="length-num">6</div></a><a href="/en/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/emn178"><i class="fab fa-github"></i><span>GitHub</span></a></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/en/post/starknet-airdrop-guide/" title="StarkNet Airdrop Guide"><img src="/images/loading.svg" data-src="/images/zh-TW/post/2023/starknet-airdrop-strategy/22691.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="StarkNet Airdrop Guide"><noscript><img src="/images/zh-TW/post/2023/starknet-airdrop-strategy/22691.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="StarkNet Airdrop Guide"></noscript></a><div class="content"><a class="title" href="/en/post/starknet-airdrop-guide/" title="StarkNet Airdrop Guide">StarkNet Airdrop Guide</a><time datetime="2023-04-02T12:09:49.000Z" title="Created 2023-04-02 20:09:49">2023-04-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/post/ai-a-scam-token/" title="Blockchain Scam - AI-A (AI Avail) Token"><img src="/images/loading.svg" data-src="/images/zh-TW/post/2023/ai-a-scam-token/20230330231850.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Blockchain Scam - AI-A (AI Avail) Token"><noscript><img src="/images/zh-TW/post/2023/ai-a-scam-token/20230330231850.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Blockchain Scam - AI-A (AI Avail) Token"></noscript></a><div class="content"><a class="title" href="/en/post/ai-a-scam-token/" title="Blockchain Scam - AI-A (AI Avail) Token">Blockchain Scam - AI-A (AI Avail) Token</a><time datetime="2023-04-01T12:21:32.000Z" title="Created 2023-04-01 20:21:32">2023-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/post/zksync-airdrop-step-by-step/" title="zkSync Airdrop Guide Step by Step"><img src="/images/loading.svg" data-src="/images/zh-TW/post/2023/zksync-airdrop-strategy/zkSync_logo.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="zkSync Airdrop Guide Step by Step"><noscript><img src="/images/zh-TW/post/2023/zksync-airdrop-strategy/zkSync_logo.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="zkSync Airdrop Guide Step by Step"></noscript></a><div class="content"><a class="title" href="/en/post/zksync-airdrop-step-by-step/" title="zkSync Airdrop Guide Step by Step">zkSync Airdrop Guide Step by Step</a><time datetime="2023-03-30T14:14:18.000Z" title="Created 2023-03-30 22:14:18">2023-03-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/post/zksync-airdrop-strategy/" title="zkSync Airdrop Guide"><img src="/images/loading.svg" data-src="/images/zh-TW/post/2023/zksync-airdrop-strategy/zkSync_logo.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="zkSync Airdrop Guide"><noscript><img src="/images/zh-TW/post/2023/zksync-airdrop-strategy/zkSync_logo.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="zkSync Airdrop Guide"></noscript></a><div class="content"><a class="title" href="/en/post/zksync-airdrop-strategy/" title="zkSync Airdrop Guide">zkSync Airdrop Guide</a><time datetime="2023-03-26T14:43:07.000Z" title="Created 2023-03-26 22:43:07">2023-03-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/post/solidity-gas-optimization-variable-ordering/" title="Solidity Gas Optimizations - Variable Ordering"><img src="/images/loading.svg" data-src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Solidity Gas Optimizations - Variable Ordering"><noscript><img src="/images/zh-TW/post/2018/solidity-gas-optimization-variable-ordering/solidity-logo.svg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Solidity Gas Optimizations - Variable Ordering"></noscript></a><div class="content"><a class="title" href="/en/post/solidity-gas-optimization-variable-ordering/" title="Solidity Gas Optimizations - Variable Ordering">Solidity Gas Optimizations - Variable Ordering</a><time datetime="2018-09-11T02:26:38.000Z" title="Created 2018-09-11 10:26:38">2018-09-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2010 - 2023 By emn178</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4"></script><script src="/js/main.js?v=7"></script><script>delayScripts.push({delay:1e3,src:"/js/fancybox.umd.min.js",onload:()=>runLightbox()}),delayStyles.push({delay:1e3,href:"/css/fancybox.min.css"})</script><script>delayScripts.push({delay:1e3,src:"/js/lazyload.iife.min.js",onload:()=>initLazyLoad()})</script><div class="js-pjax"><script>function loadDisqus(){var t,e,i=function(){this.page.url="https://blog.emn178.cc/en/post/solidity-gas-optimization-data-compression/",this.page.identifier="/en/post/solidity-gas-optimization-data-compression/",this.page.title="Solidity Gas Optimizations - Data Compression"};window.disqusReset=()=>{DISQUS.reset({reload:!0,config:i})},window.DISQUS?disqusReset():(t=document,(e=t.createElement("script")).src="https://emn178.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)),document.getElementById("darkmode").addEventListener("click",()=>{setTimeout(()=>window.disqusReset(),200)})}{function loadOtherComment(){loadDisqus()}btf.loadComment(document.getElementById("disqus_thread"),loadDisqus)}</script></div></div></body></html>