<!DOCTYPE html><html><head><meta charset="utf-8"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MPNMQM2EN1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MPNMQM2EN1")</script><title>解決 Mac OS 升級後 Postgresql 跑不起來 | 小殘的程式光廊</title><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="本篇文章記錄如何解決 Mac OS 從 Monterey 升級到 Ventura 後，使用 Homebrew 安裝的 Postgresql 跑不起來的問題。"><meta property="og:type" content="article"><meta property="og:title" content="解決 Mac OS 升級後 Postgresql 跑不起來"><meta property="og:url" content="https://blog.emn178.cc/post/solve-postgresql-can-not-run-after-upgrade-mac-os/index.html"><meta property="og:site_name" content="小殘的程式光廊"><meta property="og:description" content="本篇文章記錄如何解決 Mac OS 從 Monterey 升級到 Ventura 後，使用 Homebrew 安裝的 Postgresql 跑不起來的問題。"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://user-images.githubusercontent.com/3477613/221736194-f3c742ac-f9a2-4ab6-b049-24c287a81f42.png"><meta property="article:published_time" content="2023-02-27T04:01:53.000Z"><meta property="article:modified_time" content="2023-02-28T02:19:18.086Z"><meta property="article:author" content="小殘"><meta property="article:tag" content="Postgresql"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://user-images.githubusercontent.com/3477613/221736194-f3c742ac-f9a2-4ab6-b049-24c287a81f42.png"><link rel="alternate" href="/atom.xml" title="小殘的程式光廊" type="application/atom+xml"><link rel="shortcut icon" href="/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css"></head><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">小殘的程式光廊</a></h1></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/">首頁</a> <a class="main-nav-link" href="/archives">彙整</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a></nav></div></div></header><div class="outer"><section id="main"><article id="post-解決-Mac-OS-升級後-Postgresql-跑不起來" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/post/solve-postgresql-can-not-run-after-upgrade-mac-os/" class="article-date"><time class="dt-published" datetime="2023-02-27T04:01:53.000Z" itemprop="datePublished">2023-02-27</time></a><div class="article-category"><a class="article-category-link" href="/categories/%E7%A8%8B%E5%BC%8F%E6%8A%80%E8%A1%93/">程式技術</a></div></div><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">解決 Mac OS 升級後 Postgresql 跑不起來</h1></header><div class="e-content article-entry" itemprop="articleBody"><p><img src="/images/loading.gif" data-original="https://user-images.githubusercontent.com/3477613/221736194-f3c742ac-f9a2-4ab6-b049-24c287a81f42.png" alt="Ventura" title="Ventura"><br>最近把 Mac OS 從 Monterey 升級到 Ventura 後， Homebrew 安裝的 Postgresql 就跑不起來，</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">brew services info postgresql</span></span><br><span class="line">Warning: Use postgresql@14 instead of deprecated postgresql</span><br><span class="line">postgresql@14 (homebrew.mxcl.postgresql@14)</span><br><span class="line">Running: ✘</span><br><span class="line">Loaded: ✔</span><br><span class="line">Schedulable: ✘</span><br></pre></td></tr></table></figure><p>重啟或重新安裝都沒有用，也沒有明確的錯誤訊息。到 Homebrew 的 log 資料夾下查詢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">tail</span> /opt/homebrew/var/log/postgres.log</span></span><br></pre></td></tr></table></figure><p>看到錯誤訊息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Referenced from: &lt;B17C4116-8D6C-32B3-8403-3EBE2BBCA14E&gt; /opt/homebrew/Cellar/postgresql@14/14.2_1/bin/postgres</span><br><span class="line">Reason: tried: &#x27;/opt/homebrew/opt/icu4c/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/System/Volumes/Preboot/Cryptexes/OS/opt/homebrew/opt/icu4c/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/opt/homebrew/opt/icu4c/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/usr/local/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/usr/lib/libicui18n.70.dylib&#x27; (no such file, not in dyld cache), &#x27;/opt/homebrew/Cellar/icu4c/72.1/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/System/Volumes/Preboot/Cryptexes/OS/opt/homebrew/Cellar/icu4c/72.1/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/opt/homebrew/Cellar/icu4c/72.1/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/usr/local/lib/libicui18n.70.dylib&#x27; (no such file), &#x27;/usr/lib/libicui18n.70.dylib&#x27; (no such file, not in dyld cache)</span><br></pre></td></tr></table></figure><p>重新安裝 icu4c</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">brew reinstall icu4c</span></span><br></pre></td></tr></table></figure><p>重啟 postgresql</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">brew services restart postgresql</span></span><br></pre></td></tr></table></figure><p>成功啟動</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">brew services info postgresql</span></span><br><span class="line">Warning: Use postgresql@14 instead of deprecated postgresql</span><br><span class="line">postgresql@14 (homebrew.mxcl.postgresql@14)</span><br><span class="line">Running: ✔</span><br><span class="line">Loaded: ✔</span><br><span class="line">Schedulable: ✘</span><br><span class="line">User: emn178</span><br><span class="line">PID: 17984</span><br></pre></td></tr></table></figure></div><footer class="article-footer"><a data-url="https://blog.emn178.cc/post/solve-postgresql-can-not-run-after-upgrade-mac-os/" data-id="clemavcn60002s70af3e71e2l" data-title="解決 Mac OS 升級後 Postgresql 跑不起來" class="article-share-link">分享</a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Postgresql/" rel="tag">Postgresql</a></li></ul></footer></div><nav id="article-nav"><a href="/post/midjourney-ai-art-generator/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title">Midjourney - AI藝術生成器</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">分類</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI/">AI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%85%E9%81%8A/">旅遊</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A8%8B%E5%BC%8F%E6%8A%80%E8%A1%93/">程式技術</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">標籤</h3><div class="widget"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postgresql/" rel="tag">Postgresql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stable-Diffusion/" rel="tag">Stable Diffusion</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E7%94%B1%E8%A1%8C/" rel="tag">自由行</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%93%E5%9C%8B/" rel="tag">韓國</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A6%96%E7%88%BE/" rel="tag">首爾</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">標籤雲</h3><div class="widget tagcloud"><a href="/tags/AI/" style="font-size:15px">AI</a> <a href="/tags/Postgresql/" style="font-size:10px">Postgresql</a> <a href="/tags/Stable-Diffusion/" style="font-size:10px">Stable Diffusion</a> <a href="/tags/%E8%87%AA%E7%94%B1%E8%A1%8C/" style="font-size:20px">自由行</a> <a href="/tags/%E9%9F%93%E5%9C%8B/" style="font-size:20px">韓國</a> <a href="/tags/%E9%A6%96%E7%88%BE/" style="font-size:20px">首爾</a></div></div><div class="widget-wrap"><h3 class="widget-title">彙整</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">最新文章</h3><div class="widget"><ul><li><a href="/post/solve-postgresql-can-not-run-after-upgrade-mac-os/">解決 Mac OS 升級後 Postgresql 跑不起來</a></li><li><a href="/post/midjourney-ai-art-generator/">Midjourney - AI藝術生成器</a></li><li><a href="/post/dreamstudio-ai-art-generator/">DreamStudio - AI藝術生成器</a></li><li><a href="/post/dall%C2%B7e-2-ai-art-generator/">DALL·E 2 - AI藝術生成器</a></li><li><a href="/post/korea-seoul-free-travel-day-4-n-seoul-tower/">韓國首爾自由行 Day 4 (首爾塔)</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2023 小殘<br></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">home</a> <a href="/archives" class="mobile-nav-link">archives</a></nav><script src="/js/jquery-3.4.1.min.js"></script><script src="/fancybox/jquery.fancybox.min.js"></script><script src="/js/script.js"></script></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>