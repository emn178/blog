const btf={debounce:function(i,s,a){let c;return function(){const t=this;const e=arguments;const n=function(){c=null;if(!a)i.apply(t,e)};const o=a&&!c;clearTimeout(c);c=setTimeout(n,s);if(o)i.apply(t,e)}},throttle:function(n,o,i){let s,a,c;let r=0;if(!i)i={};const l=function(){r=i.leading===false?0:(new Date).getTime();s=null;n.apply(a,c);if(!s)a=c=null};const t=function(){const t=(new Date).getTime();if(!r&&i.leading===false)r=t;const e=o-(t-r);a=this;c=arguments;if(e<=0||e>o){if(s){clearTimeout(s);s=null}r=t;n.apply(a,c);if(!s)a=c=null}else if(!s&&i.trailing!==false){s=setTimeout(l,e)}};return t},sidebarPaddingR:()=>{const t=window.innerWidth;const e=document.body.clientWidth;const n=t-e;if(t!==e){document.body.style.paddingRight=n+"px"}},snackbarShow:(t,e=false,n=2e3)=>{const{position:o,bgLight:i,bgDark:s}=GLOBAL_CONFIG.Snackbar;const a=document.documentElement.getAttribute("data-theme")==="light"?i:s;Snackbar.show({text:t,backgroundColor:a,showAction:e,duration:n,pos:o,customClass:"snackbar-css"})},diffDate:(t,e=false)=>{const n=new Date;const o=new Date(t);const i=n.getTime()-o.getTime();const s=1e3*60;const a=s*60;const c=a*24;const r=c*30;let l;if(e){const f=i/r;const d=i/c;const u=i/a;const m=i/s;if(f>12){l=o.toISOString().slice(0,10)}else if(f>=1){l=parseInt(f)+" "+GLOBAL_CONFIG.date_suffix.month}else if(d>=1){l=parseInt(d)+" "+GLOBAL_CONFIG.date_suffix.day}else if(u>=1){l=parseInt(u)+" "+GLOBAL_CONFIG.date_suffix.hour}else if(m>=1){l=parseInt(m)+" "+GLOBAL_CONFIG.date_suffix.min}else{l=GLOBAL_CONFIG.date_suffix.just}}else{l=parseInt(i/c)}return l},loadComment:(t,e)=>{if("IntersectionObserver"in window){const n=new IntersectionObserver(t=>{if(t[0].isIntersecting){e();n.disconnect()}},{threshold:[0]});n.observe(t)}else{e()}},scrollToDest:(o,i=500)=>{const s=window.pageYOffset;const t=document.getElementById("page-header").classList.contains("fixed");if(s>o||t)o=o-70;if("scrollBehavior"in document.documentElement.style){window.scrollTo({top:o,behavior:"smooth"});return}let a=null;o=+o;window.requestAnimationFrame(function t(e){a=!a?e:a;const n=e-a;if(s<o){window.scrollTo(0,(o-s)*n/i+s)}else{window.scrollTo(0,s-(s-o)*n/i)}if(n<i){window.requestAnimationFrame(t)}else{window.scrollTo(0,o)}})},animateIn:(t,e)=>{t.style.display="block";t.style.animation=e},animateOut:(e,t)=>{e.addEventListener("animationend",function t(){e.style.display="";e.style.animation="";e.removeEventListener("animationend",t)});e.style.animation=t},getParents:(t,e)=>{for(;t&&t!==document;t=t.parentNode){if(t.matches(e))return t}return null},siblings:(e,n)=>{return[...e.parentNode.children].filter(t=>{if(n){return t!==e&&t.matches(n)}return t!==e})},wrap:(t,e,n)=>{const o=document.createElement(e);for(const[i,s]of Object.entries(n)){o.setAttribute(i,s)}t.parentNode.insertBefore(o,t);o.appendChild(t)},unwrap:t=>{const e=t.parentNode;if(e!==document.body){e.parentNode.insertBefore(t,e);e.parentNode.removeChild(e)}},isHidden:t=>t.offsetHeight===0&&t.offsetWidth===0,getEleTop:t=>{let e=t.offsetTop;let n=t.offsetParent;while(n!==null){e+=n.offsetTop;n=n.offsetParent}return e},loadLightbox:t=>{const e=GLOBAL_CONFIG.lightbox;if(e==="mediumZoom"){const n=mediumZoom(t);n.on("open",t=>{const e=document.documentElement.getAttribute("data-theme")==="dark"?"#121212":"#fff";n.update({background:e})})}if(e==="fancybox"){t.forEach(t=>{if(t.parentNode.tagName!=="A"){const e=t.dataset.src||t.src;const n=t.dataset.thumb||e;if(t.dataset.thumb){t.dataset.src=t.dataset.thumb}const o=t.title||t.alt||"";btf.wrap(t,"span",{href:e,"data-fancybox":"gallery","data-caption":o,"data-thumb":n})}});if(!window.fancyboxRun){Fancybox.bind("[data-fancybox]",{Hash:false,Thumbs:{autoStart:false}});window.fancyboxRun=true}}},initJustifiedGallery:function(t){const e=t=>{if(!btf.isHidden(t)){fjGallery(t,{itemSelector:".fj-gallery-item",rowHeight:t.getAttribute("data-rowHeight"),gutter:4,onJustify:function(){this.$container.style.opacity="1"}})}};if(Array.from(t).length===0)e(t);else t.forEach(t=>{e(t)})},updateAnchor:t=>{if(t!==window.location.hash){if(!t)t=location.pathname;const e=GLOBAL_CONFIG_SITE.title;window.history.replaceState({url:location.href,title:e},e,t)}},getScrollPercent:(t,e)=>{const n=e.clientHeight;const o=document.documentElement.clientHeight;const i=e.offsetTop;const s=n>o?n-o:document.documentElement.scrollHeight-o;const a=(t-i)/s;const c=Math.round(a*100);const r=c>100?100:c<=0?0:c;return r}};